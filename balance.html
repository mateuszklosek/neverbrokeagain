<!DOCTYPE html>
<html lang="pl">
<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	
	<title>Bilans</title>
	<meta name="description" content="Aplikacja do zarządzania finansami.">
	<meta name="keywords" content="pieniadze, finanse, zarzadzanie, oszczedzanie">
	<meta name="author" content="Mateusz Kłosek">
	
	<meta http-equiv="X-Ua-Compatible" content="IE=edge,chrome=1">
	
	<script src="balance.js"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
	<link rel="stylesheet" href="main.css">
	<link rel="stylesheet" href="css/fontello.css">
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&amp;subset=latin-ext" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Chango&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css">
	
	
	<!--[if lt IE 9]>
	<script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
	<![endif]-->
	
</head>

<body>

	<header>
			
		<div class="text-center">
		
			<div class="text-center my-5 mx-3">
				<a href="main.html"><img class="img-fluid  border rounded"  src="img/Logo1.png" alt="logo"></a>
			</div>
		
		</div>
		
		<nav class="navbar navbar-light bg-light navbar-expand-md text-center">
		
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#mainmenu" aria-controls="mainmenu" aria-expanded="false" aria-label="Przełącznik nawigacji">
				<span class="navbar-toggler-icon"></span>
			</button>
			
			<div class="collapse navbar-collapse" id="mainmenu">
			
				<ul class="navbar-nav mr-auto">
				
					<li class="nav-item">
						<a href="main.html">Strona główna</a>
					</li>
					<li class="nav-item">
						<a href="incomes.html">Dodaj przychód</a>
					</li>
					<li class="nav-item">	
						<a href="expenses.html">Dodaj wydatek</a>
					</li>
					<li class="nav-item">
						<a href="balance.html">Przeglądaj bilans</a>
					</li>
					<li class="nav-item">
						<a href="settings.html">Ustawienia</a>
					</li>
					<li class="nav-item">
						<a href="index.html">Wyloguj się</a>
					</li>
					
				</ul>
			
			</div>
			
		</nav>
					
	</header>

	<main>
		
		<section>
				
			<div class="container col-11 col-lg-8 text-center mt-5">
			
				<header>
						<h3 class="h4 mt-4">Przegląd finansów</h3>
				</header>
				
				<form method="post" id="search_form">
				
				<div class="input-center">
					<span class="span-style">
						<i class="bi bi-calendar"></i>
					</span>
						<div class="input-style" style="float: left;">
							<select id="periodOfTime" data-live-search="true" name="periodOfTime">
								<option value="" selected disabled>Wybierz okres</option>
								<option value="currentMonth">Obecny miesiąc</option>
								<option value="previousMonth">Poprzedni miesiąc</option>
								<option value="currentYear">Obecny rok</option>
								<option value="customPeriod">Niestandardowy</option>
							</select>
						</div>
						<div class="clearclass">
						</div>
					</div>

			
					<div class="modal fade" id="dateModal" tabindex="-1" role="dialog" aria-labelledby="okresRozliczeniowy" aria-hidden="true">
						<div class="modal-dialog modal-dialog-centered" role="document">
						
							<div class="modal-content ">
							
								<div class="modal-header">
									<h4 id="okresRozliczeniowy" class="modal-title text-dark">Wybierz zakres dat</h4>
									<button type="button" class="close" data-dismiss="modal" aria-label="Zamknij">
									  <span aria-hidden="true">&times;</span>
									</button>
								</div>
								
								<div class="modal-body">
									<div class="input-center">
										<div class="input-group-prepend">
											<span class="span-style"> <i class="bi bi-hourglass-top"></i> </span>
										</div>
										<input id="startDate" type="date" class="input-span" aria-label="data" name="startDate" required>
									</div>	
									
									<div class="input-center">
										<div class="input-group-prepend">
											<span class="span-style"> <i class="bi bi-hourglass-bottom"></i></i> </span>
										</div>
										<input id="endDate" type="date" class="input-span" aria-label="data" name ="endDate" required>
									</div>		
								</div>
								
								<div class="modal-footer input-center">
									<input type="submit" id="modalCloseBtn" value="Potwierdź">
								</div>
								
							</div>
							
						</div>
					</div>
					
				</form>
				
				
				
				<div style="margin-top: 50px;" class="table-div">
				
					<div class="table-title">
					<h3 class="h4 mt-4">Przychody </h3>
					</div>
					
					<table id="myTable2" class="table-style" style="margin: auto;" >
						<thead style="text-align:center; background-color: grey; cursor: pointer;">
						<tr>
						<th style="width:240px;" onclick="sortTable(0)">Kategoria<span> <i class="demo-icon icon-arrow-combo"></i></span></th>
						<th style="width:240px;" onclick="sortTable(1)">Kwota<span> <i class="demo-icon icon-arrow-combo"></i></span></th>
						<th style="width:240px;" onclick="sortTable(2)">Data<span> <i class="demo-icon icon-arrow-combo"></i></span></th>
						<th style="width:240px;" onclick="sortTable(3)">Komentarz<span> <i class="demo-icon icon-arrow-combo"></i></span></th>
						</tr>
						</thead>
						<tbody>
						<tr>
						<td>Wynagrodzenie</td>
						<td>10000</td>
						<td>2021-02-18</td>
						<td></td>
						</tr>
						<tr>
						<td>Inne</td>
						<td>2000</td>
						<td>2021-02-17</td>
						<td>Sprzedaż na allegro</td>
						</tr>
						<tr>
						<td>Inne</td>
						<td>500</td>
						<td>2021-01-18</td>
						<td>500+</td>
						</tr>
						</tbody>
					</table>
				</div>
				
				<div style="margin-top: 50px; margin-bottom:100px;" class="table-div">
				
					<div class="table-title">
					<h3 class="h4 mt-4">Wydatki</h3>
					</div>
					
					<table id="myTable3" class="table-style" style="margin: auto;" >
						<thead style="text-align:center; background-color: grey; cursor: pointer;">
						<tr>
						<th style="width:192px;" onclick="sortTable1(0)">Kategoria<span> <i class="demo-icon icon-arrow-combo"></i></span></th>
						<th style="width:192px;" onclick="sortTable1(1)">Kwota<span> <i class="demo-icon icon-arrow-combo"></i></span></th>
						<th style="width:192px;" onclick="sortTable1(2)">Metoda płatności<span> <i class="demo-icon icon-arrow-combo"></i></span></th>
						<th style="width:192px;" onclick="sortTable1(3)">Data<span> <i class="demo-icon icon-arrow-combo"></i></span></th>
						<th style="width:192px;" onclick="sortTable1(4)">Komentarz<span> <i class="demo-icon icon-arrow-combo"></i></span></th>
						</tr>
						</thead>
						<tbody>
						<tr>
						<td>Ubrania</td>
						<td>10000</td>
						<td>Karta kredytowa</td>
						<td>2021-02-18</td>
						<td></td>
						</tr>
						<tr>
						<td>Mieszkanie</td>
						<td>2000</td>
						<td>Karta debetowa</td>
						<td>2021-02-17</td>
						<td></td>
						</tr>
						<tr>
						<td>Inne</td>
						<td>500</td>
						<td>Gotówka</td>
						<td>2021-01-18</td>
						<td></td>
						</tr>
						<tr>
						<td>Jedzenie</td>
						<td>500</td>
						<td>Gotówka</td>
						<td>2021-01-18</td>
						<td></td>
						</tr>
						</tbody>
					</table>
				</div>
				
				
				<div class="row">
				
					<div  class="col-12 center "  id="piechart1"></div>
					<div class="col-12 col-xl-6 center" id="piechart2"></div>
					<div class="col-12 col-xl-6 center"  id="piechart3"></div>
					
				</div>
			
			</div>
				
		</section>
			
	</main>
	
	<footer class="text-center mb-5" style="font-size: 12px;">
		All rights reserved © 2021, Never broke again created by Mati
	</footer>

	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>


	

	<script>
	function sortTable(n) {
	  var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
	  table = document.getElementById("myTable2");
	  switching = true;
	  // Set the sorting direction to ascending:
	  dir = "asc";
	  /* Make a loop that will continue until
	  no switching has been done: */
	  while (switching) {
		// Start by saying: no switching is done:
		switching = false;
		rows = table.rows;
		/* Loop through all table rows (except the
		first, which contains table headers): */
		for (i = 1; i < (rows.length - 1); i++) {
		  // Start by saying there should be no switching:
		  shouldSwitch = false;
		  /* Get the two elements you want to compare,
		  one from current row and one from the next: */
		  x = rows[i].getElementsByTagName("TD")[n];
		  y = rows[i + 1].getElementsByTagName("TD")[n];
		  /* Check if the two rows should switch place,
		  based on the direction, asc or desc: */
		  if (dir == "asc") {
			if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
			  // If so, mark as a switch and break the loop:
			  shouldSwitch = true;
			  break;
			}
		  } else if (dir == "desc") {
			if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
			  // If so, mark as a switch and break the loop:
			  shouldSwitch = true;
			  break;
			}
		  }
		}
		if (shouldSwitch) {
		  /* If a switch has been marked, make the switch
		  and mark that a switch has been done: */
		  rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
		  switching = true;
		  // Each time a switch is done, increase this count by 1:
		  switchcount ++;
		} else {
		  /* If no switching has been done AND the direction is "asc",
		  set the direction to "desc" and run the while loop again. */
		  if (switchcount == 0 && dir == "asc") {
			dir = "desc";
			switching = true;
		  }
		}
	  }
	}
	</script>

	<script>
	function sortTable1(n) {
	  var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
	  table = document.getElementById("myTable3");
	  switching = true;
	  // Set the sorting direction to ascending:
	  dir = "asc";
	  /* Make a loop that will continue until
	  no switching has been done: */
	  while (switching) {
		// Start by saying: no switching is done:
		switching = false;
		rows = table.rows;
		/* Loop through all table rows (except the
		first, which contains table headers): */
		for (i = 1; i < (rows.length - 1); i++) {
		  // Start by saying there should be no switching:
		  shouldSwitch = false;
		  /* Get the two elements you want to compare,
		  one from current row and one from the next: */
		  x = rows[i].getElementsByTagName("TD")[n];
		  y = rows[i + 1].getElementsByTagName("TD")[n];
		  /* Check if the two rows should switch place,
		  based on the direction, asc or desc: */
		  if (dir == "asc") {
			if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
			  // If so, mark as a switch and break the loop:
			  shouldSwitch = true;
			  break;
			}
		  } else if (dir == "desc") {
			if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
			  // If so, mark as a switch and break the loop:
			  shouldSwitch = true;
			  break;
			}
		  }
		}
		if (shouldSwitch) {
		  /* If a switch has been marked, make the switch
		  and mark that a switch has been done: */
		  rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
		  switching = true;
		  // Each time a switch is done, increase this count by 1:
		  switchcount ++;
		} else {
		  /* If no switching has been done AND the direction is "asc",
		  set the direction to "desc" and run the while loop again. */
		  if (switchcount == 0 && dir == "asc") {
			dir = "desc";
			switching = true;
		  }
		}
	  }
	}
	</script>


	<script type="text/javascript">

	google.charts.load('current', {'packages':['corechart']});
	google.charts.setOnLoadCallback(drawChart);

	function drawChart() {
	  var data = google.visualization.arrayToDataTable([
	  ['What', 'How'],
	  ['Wydatki', 3500],
	  ['Przychody', 12000],
	]);

	  // Optional; add a title and set the width and height of the chart
	  var options = {'title':'Bilans', 'width':500, 'height':300, backgroundColor: 'transparent', legend: {textStyle: {color: 'lightgrey'}},  titleTextStyle: {color: 'lightgrey', fontSize:'16'}};

	  // Display the chart inside the <div> element with id="piechart"
	  var chart = new google.visualization.PieChart(document.getElementById('piechart1'));
	  chart.draw(data, options);
	}
	</script>

	<script type="text/javascript">

	google.charts.load('current', {'packages':['corechart']});
	google.charts.setOnLoadCallback(drawChart);

	function drawChart() {
	  var data = google.visualization.arrayToDataTable([
	  ['Przychod', 'Ile'],
	  ['Ubrania', 200],
	  ['Mieszkanie', 2500],
	  ['Jedzenie', 1000],
	  ['Inne', 500],
	]);

	  // Optional; add a title and set the width and height of the chart
	  var options = {'title':'Przychody', 'width':500, 'height':300, backgroundColor: 'transparent', legend: {textStyle: {color: 'lightgrey'}},  titleTextStyle: {color: 'lightgrey', fontSize:'16'}};

	  // Display the chart inside the <div> element with id="piechart"
	  var chart = new google.visualization.PieChart(document.getElementById('piechart2'));
	  chart.draw(data, options);
	}
	</script>

	<script type="text/javascript">

	google.charts.load('current', {'packages':['corechart']});
	google.charts.setOnLoadCallback(drawChart);

	function drawChart() {
	  var data = google.visualization.arrayToDataTable([
	  ['Wydatek', 'Ile'],
	  ['Wynagrodzenie', 10000],
	  ['Inne', 2500],
	]);

	  // Optional; add a title and set the width and height of the chart
	  var options = {'title':'Wydatki', 'width':500, 'height':300, backgroundColor: 'transparent', legend: {textStyle: {color: 'lightgrey'}},  titleTextStyle: {color: 'lightgrey', fontSize:'16'}};

	  // Display the chart inside the <div> element with id="piechart"
	  var chart = new google.visualization.PieChart(document.getElementById('piechart3'));
	  chart.draw(data, options);
	}
	</script>

<script>
$('#periodOfTime').change(function(){
    if (this.value == "customPeriod"){
		document.getElementById("periodOfTime").setAttribute("onclick","");
        $('#dateModal').modal({
            show: true
		
        });
    } else
	{
		document.getElementById("periodOfTime").setAttribute("onclick","this.form.submit()");
	}
});
</script>



</body>
</html>